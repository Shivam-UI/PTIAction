!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("react")):"function"==typeof define&&define.amd?define(["exports","react"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).ReactSimpleWysiwyg={},e.React)}(this,(function(e,t){"use strict";function n(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach((function(n){if("default"!==n){var r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:function(){return e[n]}})}})),t.default=e,Object.freeze(t)}var r=n(t),o=function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},o.apply(this,arguments)};function l(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}function a(){if(document.selection)return document.selection.createRange().parentElement();var e=window.getSelection();return e.rangeCount>0?e.getRangeAt(0).startContainer.parentNode:null}function c(e){return e&&e.replace(/&nbsp;|\u202F|\u00A0/g," ")}var i=t.memo(t.forwardRef((function(e,n){var r=e.className,a=e.disabled,i=e.onBlur,u=e.onKeyDown,d=e.onKeyUp,s=e.tagName,m=e.value,f=l(e,["className","disabled","onBlur","onKeyDown","onKeyUp","tagName","value"]),p=t.useRef(),v=t.useRef(m);return t.useEffect((function(){var e=p.current;e&&c(v.current)!==c(m)&&(v.current=m,e.innerHTML=m,function(e){var t=document.createTextNode("");e.appendChild(t);var n=document.activeElement===e;if(null!==t&&null!==t.nodeValue&&n){var r=window.getSelection();if(null!==r){var o=document.createRange();o.setStart(t,t.nodeValue.length),o.collapse(!0),r.removeAllRanges(),r.addRange(o)}e instanceof HTMLElement&&e.focus()}}(e))})),t.useMemo((function(){function e(e){var t,n=p.current;if(n){var r=n.innerHTML;r!==v.current&&(null===(t=f.onChange)||void 0===t||t.call(f,o(o({},e),{target:{value:r,name:f.name}}))),v.current=r}}return t.createElement(s||"div",o(o({},f),{className:r,contentEditable:!a,dangerouslySetInnerHTML:{__html:m},onBlur:i||e,onInput:e,onKeyDown:u||e,onKeyUp:d||e,ref:function(e){p.current=e,"function"==typeof n?n(e):"object"==typeof n&&(n.current=e)}}))}),[r,a,i,u,d,s])}))),u=t.createContext(null);function d(e){var n=e.children,l=t.useState({htmlMode:!1,update:function(e){c((function(t){return o(o(o({},t),e),{date:Date.now()})}))}}),a=l[0],c=l[1];return r.createElement(u.Provider,{value:a},n)}function s(){return t.useContext(u)}function m(e){var t=l(e,[]);return r.createElement("textarea",o({},t))}var f=[],p=[];function v(e){var n=e.children,c=e.onSelect,u=l(e,["children","onSelect"]),d=s();function f(e){var t;e.target!==d.$el&&((null===(t=d.$el)||void 0===t?void 0:t.contains(e.target))||d.update({$selection:null}))}return t.useEffect((function(){return document.addEventListener("click",f),function(){return document.removeEventListener("click",f)}})),d.htmlMode?r.createElement("div",{className:"rsw-editor"},n,r.createElement(m,o({},u,{className:"rsw-ce rsw-html"}))):r.createElement("div",{className:"rsw-editor"},n,r.createElement(i,o({},u,{ref:function(e){d.update({$el:e})},onSelect:function(e){null==c||c(e),d.update({$selection:a()})},className:"rsw-ce"})))}!function(e,t){if(e&&"undefined"!=typeof document){var n,r=!0===t.prepend?"prepend":"append",o=!0===t.singleTag,l="string"==typeof t.container?document.querySelector(t.container):document.getElementsByTagName("head")[0];if(o){var a=f.indexOf(l);-1===a&&(a=f.push(l)-1,p[a]={}),n=p[a]&&p[a][r]?p[a][r]:p[a][r]=c()}else n=c();65279===e.charCodeAt(0)&&(e=e.substring(1)),n.styleSheet?n.styleSheet.cssText+=e:n.appendChild(document.createTextNode(e))}function c(){var e=document.createElement("style");if(e.setAttribute("type","text/css"),t.attributes)for(var n=Object.keys(t.attributes),o=0;o<n.length;o++)e.setAttribute(n[o],t.attributes[n[o]]);var a="prepend"===r?"afterbegin":"beforeend";return l.insertAdjacentElement(a,e),e}}(".rsw-editor{border:1px solid #ddd;border-radius:.375rem;display:flex;flex-direction:column;min-height:100px;overflow:hidden}.rsw-ce{flex:1 0 auto;outline:none;padding:.5rem}.rsw-ce[contentEditable=true]:empty:not(:focus):before{color:grey;content:attr(placeholder)}.rsw-html{background:transparent;border:none;font-family:monospace,Courier New}.rsw-separator{align-self:stretch;border-right:1px solid #ddd;display:flex;margin:0 3px}.rsw-dd{box-sizing:border-box;outline:none}.rsw-btn{background:transparent;border:0;color:#222;cursor:pointer;font-size:1em;height:2em;outline:none;padding:0;width:2em}.rsw-btn:hover{background:#eaeaea}.rsw-btn[data-active=true]{background:#e0e0e0}.rsw-toolbar{align-items:center;background-color:#f5f5f5;border-bottom:1px solid #ddd;display:flex}",{});var g=M("Bold","𝐁","bold"),h=M("Bullet list",r.createElement((function(){return r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",style:{verticalAlign:"text-top"}},r.createElement("path",{fill:"currentColor",d:"M7 5h14v2H7V5zm0 8v-2h14v2H7zM4 4.50001c.83 0 1.5.66992 1.5 1.5 0 .83007-.67 1.5-1.5 1.5s-1.5-.66993-1.5-1.5c0-.83008.67-1.5 1.5-1.5zM4 10.5c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5-1.5-.67-1.5-1.5.67-1.5 1.5-1.5zM7 19v-2h14v2H7zm-3-2.5c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5-1.5-.67-1.5-1.5.67-1.5 1.5-1.5z"}))}),null),"insertUnorderedList"),b=M("Clear formatting","T̲ₓ","removeFormat"),E=M("Italic","𝑰","italic"),y=M("Link","🔗",(function(e){var t=e.$selection;"A"===(null==t?void 0:t.nodeName)?document.execCommand("unlink"):document.execCommand("createLink",!1,prompt("URL",""))})),w=M("Numbered list",r.createElement((function(){return r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",style:{verticalAlign:"text-top"}},r.createElement("path",{fill:"currentColor",d:"M6.99938 12.998v-2H20.9994v2H6.99938zm0 6.0001v-2H20.9994v2H6.99938zm0-12.00001v-2H20.9994v2H6.99938zm-4 1v-3h-1v-1h2v4h-1zm-1 9.00001v-1h3v4h-3v-1h2v-.5h-1v-1h1v-.5h-2zM4.25 10c.41421 0 .75.3358.75.75 0 .2024-.08017.3861-.2105.521L3.11983 13H5v1H2v-.9218L4 11H2v-1h2.25z"}))}),null),"insertOrderedList"),x=M("Redo","↷","redo"),B=M("Underline",r.createElement("span",{style:{textDecoration:"underline"}},"𝐔"),"underline"),N=M("Undo","↶","undo");function M(e,t,n){return l.displayName=e.replace(/\s/g,""),l;function l(l){var a=s(),c=a.$selection,i=!1;return"string"==typeof n&&(i=!!c&&document.queryCommandState(n)),a.htmlMode?null:r.createElement("button",o({type:"button",title:e},l,{className:"rsw-btn",onMouseDown:function(){"function"==typeof n?n(a):document.execCommand(n)},"data-active":i}),t)}}var C=function(e,t){return n.displayName=e,n;function n(n){var l=s();return l.htmlMode?null:r.createElement(H,o({},n,{onChange:function(e){var n=parseInt(e.target.value,10),r=t[n],o=r[1],a=r[2];e.preventDefault(),e.target.selectedIndex=0,"function"==typeof o?o(l):document.execCommand(o,!1,a)},title:e,items:t}))}}("Styles",[["Normal","formatBlock","DIV"],["𝗛𝗲𝗮𝗱𝗲𝗿 𝟭","formatBlock","H1"],["Header 2","formatBlock","H2"],["𝙲𝚘𝚍𝚎","formatBlock","PRE"]]);function H(e){var t=e.items,n=e.selected,a=l(e,["items","selected"]);return r.createElement("select",o({},a,{value:n,className:"rsw-dd"}),r.createElement("option",{hidden:!0},a.title),t.map((function(e,t){return r.createElement("option",{key:e[2],value:t},e[0])})))}function O(e){var t=l(e,[]),n=s();return r.createElement("button",o({type:"button",title:"HTML mode",className:"rsw-btn",onClick:function(){n.update({htmlMode:!n.htmlMode})},"data-active":n.htmlMode},t),"</>")}function k(){return s().htmlMode?null:r.createElement("div",{className:"rsw-separator"})}function S(e){return r.createElement("div",o({},e,{className:"rsw-toolbar"}))}e.BtnBold=g,e.BtnBulletList=h,e.BtnClearFormatting=b,e.BtnItalic=E,e.BtnLink=y,e.BtnNumberedList=w,e.BtnRedo=x,e.BtnStyles=C,e.BtnUnderline=B,e.BtnUndo=N,e.ContentEditable=i,e.DefaultEditor=function(e){return r.createElement(d,null,r.createElement(v,o({},e),r.createElement(S,null,r.createElement(N,null),r.createElement(x,null),r.createElement(k,null),r.createElement(g,null),r.createElement(E,null),r.createElement(B,null),r.createElement(k,null),r.createElement(w,null),r.createElement(h,null),r.createElement(k,null),r.createElement(y,null),r.createElement(b,null),r.createElement(O,null),r.createElement(k,null),r.createElement(C,null))))},e.Dropdown=H,e.Editor=v,e.EditorContext=u,e.EditorProvider=d,e.HtmlButton=O,e.HtmlEditor=m,e.Separator=k,e.Toolbar=S,e.useEditorState=s,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=index.min.js.map
