{"ast":null,"code":"import _slicedToArray from\"/Users/shivam./Documents/Backup/PtiWebApps/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from\"react\";import{ToastContainer,toast}from\"react-toastify\";import{useNavigate}from\"react-router-dom\";import LoadingSpinner from\"../loaderSpinner\";// get data\nimport axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var LoginScreen=function LoginScreen(data){var _React$useState=React.useState(false),_React$useState2=_slicedToArray(_React$useState,2),isLoading=_React$useState2[0],setIsLoading=_React$useState2[1];var _React$useState3=React.useState(false),_React$useState4=_slicedToArray(_React$useState3,2),confirmOpen=_React$useState4[0],setConfirmOpen=_React$useState4[1];var navigate=useNavigate();var _React$useState5=React.useState(''),_React$useState6=_slicedToArray(_React$useState5,2),email=_React$useState6[0],setEmail=_React$useState6[1];var _React$useState7=React.useState(''),_React$useState8=_slicedToArray(_React$useState7,2),password=_React$useState8[0],setPassword=_React$useState8[1];var emailRgx=/^[a-zA-Z0-9]+@(?:[a-zA-Z0-9]+\\.)+[A-Za-z]+$/;var updateEmailInput=function updateEmailInput(evt){setEmail(evt.target.value);};var updatePasswordInput=function updatePasswordInput(evt){setPassword(evt.target.value);};var loginwithValidation=function loginwithValidation(){if(emailRgx.test(email)){if(password.length>5){startLoginValidationSuccess();}else{toast.error(\"invalid password\");}}else{toast.error(\"invalid email\");}};var startLoginValidationSuccess=function startLoginValidationSuccess(){setIsLoading(true);var data={email:email,password:password};axios.post('https://amazingtech.space/PTI/api/AdminAuthmoderator',data).then(function(res){console.log('login_res',JSON.stringify(res.data));if(res.data.status===true){localStorage.setItem(\"user_type\",'admin_user');localStorage.setItem(\"user_ip\",res.data.id);localStorage.setItem(\"user_name\",res.data.name);toast.success(\"Logged in successfully.\",{position:\"top-center\",autoClose:1500,hideProgressBar:false,closeOnClick:true,pauseOnHover:true,draggable:true,progress:undefined});setIsLoading(false);navigate(\"/\");}else{setIsLoading(false);toast.error(res.data.message);}}).catch(function(err){return console.log('err',JSON.stringify(err));});// toast.success(\"Logged in successfully.\", {\n//     position: \"top-center\",\n//     autoClose: 1500,\n//     hideProgressBar: false,\n//     closeOnClick: true,\n//     pauseOnHover: true,\n//     draggable: true,\n//     progress: undefined,\n// });\n};return/*#__PURE__*/_jsxs(_Fragment,{children:[isLoading?/*#__PURE__*/_jsx(LoadingSpinner,{}):null,/*#__PURE__*/_jsxs(\"div\",{className:\"main-bg\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"frame-holder\",children:/*#__PURE__*/_jsx(\"div\",{className:\"content-wrapper\",children:/*#__PURE__*/_jsx(\"div\",{className:\"container h-100\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row align-items-center h-100\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-6 mx-auto\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card h-100 border-primary justify-content-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"login_box\",children:[/*#__PURE__*/_jsx(\"img\",{src:\"./assets/images/favicon.png\",className:\"loginImageLogo img-responsive center\",alt:\"logo\"}),/*#__PURE__*/_jsx(\"h4\",{className:\"loginText\",children:\"Login Here\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"container-fluid\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"formLogin\",placeholder:\"Enter Email\",onChange:updateEmailInput,required:true}),/*#__PURE__*/_jsx(\"input\",{className:\"formLogin\",placeholder:\"Password\",onChange:updatePasswordInput,required:true}),/*#__PURE__*/_jsx(\"button\",{className:\"loginButton\",type:\"submit\",onClick:function onClick(){return loginwithValidation();},children:\"Submit\"})]})]})})})})})})}),/*#__PURE__*/_jsx(ToastContainer,{})]})]});};export default LoginScreen;","map":{"version":3,"names":["React","ToastContainer","toast","useNavigate","LoadingSpinner","axios","LoginScreen","data","useState","isLoading","setIsLoading","confirmOpen","setConfirmOpen","navigate","email","setEmail","password","setPassword","emailRgx","updateEmailInput","evt","target","value","updatePasswordInput","loginwithValidation","test","length","startLoginValidationSuccess","error","post","then","res","console","log","JSON","stringify","status","localStorage","setItem","id","name","success","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined","message","catch","err"],"sources":["/Users/shivam./Documents/Backup/PtiWebApps/src/LoginScreen/index.js"],"sourcesContent":["import React from \"react\";\nimport { ToastContainer, toast } from \"react-toastify\";\nimport { useNavigate } from \"react-router-dom\";\nimport LoadingSpinner from \"../loaderSpinner\";\n// get data\nimport axios from 'axios';\n\n\nconst LoginScreen = (data) => {\n\n    const [isLoading, setIsLoading] = React.useState(false);\n    const [confirmOpen, setConfirmOpen] = React.useState(false);\n    const navigate = useNavigate();\n    const [email, setEmail] = React.useState('');\n    const [password, setPassword] = React.useState('');\n    const emailRgx = /^[a-zA-Z0-9]+@(?:[a-zA-Z0-9]+\\.)+[A-Za-z]+$/\n\n    const updateEmailInput = (evt) => {\n        setEmail(evt.target.value);\n    };\n\n    const updatePasswordInput = (evt) => {\n        setPassword(evt.target.value);\n    };\n\n    const loginwithValidation = () => {\n        if (emailRgx.test(email)) {\n            if (password.length > 5) {\n                startLoginValidationSuccess();\n            } else {\n                toast.error(\"invalid password\");\n            }\n        } else {\n            toast.error(\"invalid email\");\n        }\n    }\n\n    const startLoginValidationSuccess = () => {\n        setIsLoading(true);\n        const data = {\n            email: email,\n            password: password,\n        }\n        axios.post('https://amazingtech.space/PTI/api/AdminAuthmoderator', data)\n            .then((res) => {\n                console.log('login_res', JSON.stringify(res.data))\n                if (res.data.status === true) {\n                    localStorage.setItem(\"user_type\", 'admin_user');\n                    localStorage.setItem(\"user_ip\", res.data.id);\n                    localStorage.setItem(\"user_name\", res.data.name);\n                    toast.success(\"Logged in successfully.\", {\n                        position: \"top-center\",\n                        autoClose: 1500,\n                        hideProgressBar: false,\n                        closeOnClick: true,\n                        pauseOnHover: true,\n                        draggable: true,\n                        progress: undefined,\n                    });\n                    setIsLoading(false);\n                    navigate(\"/\");\n                } else {\n                    setIsLoading(false);\n                    toast.error(res.data.message);\n                }\n            })\n            .catch((err) => console.log('err', JSON.stringify(err)));\n        // toast.success(\"Logged in successfully.\", {\n        //     position: \"top-center\",\n        //     autoClose: 1500,\n        //     hideProgressBar: false,\n        //     closeOnClick: true,\n        //     pauseOnHover: true,\n        //     draggable: true,\n        //     progress: undefined,\n        // });\n    }\n\n    return (\n        <>\n            {isLoading ? <LoadingSpinner /> : null}\n            <div className=\"main-bg\">\n                <div className=\"frame-holder\">\n                    <div className=\"content-wrapper\">\n                        <div className=\"container h-100\">\n                            <div className=\"row align-items-center h-100\">\n                                <div className=\"col-6 mx-auto\">\n                                    <div className=\"card h-100 border-primary justify-content-center\">\n                                        <div className=\"login_box\">\n                                            <img src=\"./assets/images/favicon.png\" className=\"loginImageLogo img-responsive center\" alt=\"logo\" />\n                                            <h4 className=\"loginText\">Login Here</h4>\n                                            <div className=\"container-fluid\">\n                                                <input className=\"formLogin\" placeholder=\"Enter Email\" onChange={updateEmailInput} required />\n                                                <input className=\"formLogin\" placeholder=\"Password\" onChange={updatePasswordInput} required />\n                                                <button className=\"loginButton\" type=\"submit\" onClick={() => loginwithValidation()}>Submit</button>\n                                            </div>\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <ToastContainer />\n            </div>\n        </>\n    )\n}\n\nexport default LoginScreen;"],"mappings":"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"},"metadata":{},"sourceType":"module"}